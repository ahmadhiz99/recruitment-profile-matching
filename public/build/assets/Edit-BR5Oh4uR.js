import{r as n,j as e,y as N,d as I,q as P,a as J}from"./app-BQH27LMY.js";import{M as $}from"./Modal-Dqw8spB-.js";import{P as p}from"./PrimaryButton-5E3fHBNm.js";import{B as v,Q as U}from"./react-toastify.esm-BqRD-ycW.js";import{A as Y}from"./AuthenticatedLayout-n90tPtlQ.js";import"./transition-BY_LBVPL.js";import"./ApplicationLogo-7KdqogUW.js";function G({aspects:b,problem:d}){const[y,i]=n.useState({}),[a,w]=n.useState(""),[l,S]=n.useState(!1),[u,D]=n.useState(""),[A,C]=n.useState(""),[h,x]=n.useState(!1),[c,j]=n.useState(!1),[f,B]=n.useState(),[s,o]=n.useState(""),[_,q]=n.useState(""),[F,T]=n.useState(""),[t,g]=n.useState(!1),E=r=>{r.preventDefault(),N.visit("/aspect/store",{method:"post",data:{name:a,problem_id:d.id},preserveState:!0,preserveScroll:!0,onSuccess:k=>{v.success("Berhasil tambah aspek"),V()}})},M=(r,k)=>{r.preventDefault(),N.visit(`/aspect/update/${k.id}`,{method:"put",data:{name:a,problem_id:d.id},preserveState:!0,preserveScroll:!0,onSuccess:m=>{v.success("Berhasil ubah aspek"),K(),V()}})},z=(r,k)=>{r.preventDefault(),N.visit(`/aspect/delete/${k}`,{method:"delete",preserveState:!0,preserveScroll:!0,onSuccess:m=>{v.success("Berhasil hapus aspek"),V()}})},R=r=>{r.preventDefault(),N.visit("/criteria/store",{method:"post",data:{criteria:s,code:_,factor:u,value:F,aspect_id:y.id},preserveState:!0,preserveScroll:!0,onSuccess:k=>{v.success("Berhasil tambah kriteria"),V()}})},O=(r,k)=>{r.preventDefault(),N.visit(`/criteria/update/${k.id}`,{method:"put",data:{criteria:s,code:_,factor:u,value:F,aspect_id:y.id},preserveState:!0,preserveScroll:!0,onSuccess:m=>{v.success("Berhasil ubah kriteria"),V()}})},Q=(r,k)=>{r.preventDefault(),N.visit(`/criteria/delete/${k.id}`,{method:"delete",preserveState:!0,preserveScroll:!0,onSuccess:m=>{v.success("Berhasil hapus kriteria"),V()}})},W=(r,k)=>{C(k),A===k&&(S(!0),w(r.name))},K=()=>{C(""),S(!1),w("")},H=(r,k,m)=>{x(r),i(k),m&&(B(m),o(m.criteria),D(m.factor),q(m.code),T(m.value),g(!0))},V=()=>{K(),x(!1),j(!1),i({}),B(),o(""),q(""),T(""),g(!1)};return e.jsxs("div",{className:" bg-white overflow-hidden shadow-sm sm:rounded-lg h-fit",children:[e.jsxs("div",{className:"p-6 w-full",children:[e.jsxs("div",{className:"flex flex-row justify-between items-center mb-3",children:[e.jsx("p",{className:"text-xl font-bold mb-3",children:"Aspek Penilaian"}),e.jsx(p,{onClick:()=>j(!0),children:"Tambah Baru"})]}),e.jsx("hr",{}),e.jsx("div",{className:"grid grid-cols-12 gap-2 mb-4 mt-4",children:b.length>0?b.map((r,k)=>e.jsxs("div",{className:"col-span-6 bg-white border border-slate-300 rounded h-fit",children:[l&&A===k?e.jsxs("div",{className:"flex flex-row justify-between items-center bg-slate-100 p-3",children:[e.jsx("input",{className:"rounded-lg border border-gray-300",type:"text",placeholder:"Masukkan judul pekerjaan",value:a,onChange:m=>w(m.target.value)}),e.jsxs("div",{className:"flex flex-row items-center gap-2",children:[e.jsx(p,{className:"bg-rose-500",onClick:()=>K(),children:"Batal"}),e.jsx(p,{className:"bg-teal-500",onClick:m=>M(m,r),children:"Simpan"})]})]}):e.jsxs("div",{className:"flex flex-row justify-between items-center bg-slate-100 p-3",children:[e.jsxs("p",{className:"text-lg font-bold",children:["Aspek : ",r.name]}),e.jsxs("div",{className:"flex flex-row items-center gap-4",children:[e.jsx("p",{className:"text-sm text-orange-500",onClick:()=>W(r,k),children:"Edit"}),e.jsx("p",{className:"text-sm text-rose-500",onClick:m=>z(m,r.id),children:"Hapus"})]})]}),e.jsxs("div",{className:"flex flex-col gap-2 p-3",children:[e.jsxs("div",{className:"flex flex-row justify-between items-center",children:[e.jsxs("p",{className:"font-semibold",children:["Jumlah Kriteria:"," ",r.criterias.length]}),e.jsxs("button",{onClick:()=>H(!0,r),className:"p-2 bg-teal-500 text-sm rounded text-white",children:[e.jsx("i",{className:"bx bx-fw bx-plus"})," ","Kriteria"]})]}),r.criterias.length>0?r.criterias.map(m=>e.jsxs("div",{className:"bg-slate-100 p-3 rounded border border-slate-200 flex flex-row justify-between items-center",children:[e.jsxs("p",{className:"text-sm",children:["(",m.code,")"," ",m.criteria]}),e.jsxs("div",{className:"flex flex-row items-center gap-0",children:[e.jsx("i",{className:"bx bx-fw bx-edit text-orange-500",onClick:()=>H(!0,r,m)}),e.jsx("i",{className:"bx bx-fw bx-x text-rose-500",onClick:L=>Q(L,m)})]})]},m.id)):"Belum ada kriteria"]})]},r.id)):"Belum ada aspek"})]}),e.jsx($,{show:h,onClose:()=>V(),maxWidth:"md",children:e.jsxs("div",{className:"p-6",children:[e.jsx("p",{className:"font-semibold text-lg",children:"Tambah Kriteria Baru"}),e.jsx("div",{className:"mt-3",children:e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("label",{className:"text-sm",children:"Nama Kriteria"}),e.jsx("input",{className:"rounded-lg border border-gray-300",type:"text",placeholder:"Contoh: Kreatif",value:s,onChange:r=>o(r.target.value)})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("label",{className:"text-sm",children:"Kode"}),e.jsx("input",{className:"rounded-lg border border-gray-300",type:"text",placeholder:"Contoh: A1",value:_,onChange:r=>q(r.target.value)})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("label",{className:"text-sm",children:"Tipe Faktor"}),e.jsxs("select",{onChange:r=>D(r.target.value),defaultValue:0,value:u,className:"rounded-lg border border-gray-300 w-full",children:[e.jsx("option",{value:0,disabled:!0,children:"Pilih tipe factor"}),e.jsx("option",{value:"CF",children:"Core Factor"}),e.jsx("option",{value:"SF",children:"Secondary Factor"})]})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("label",{className:"text-sm",children:"Nilai"}),e.jsx("input",{className:"rounded-lg border border-gray-300",type:"number",placeholder:"Nilai dari 1 sampai 5",value:F,onChange:r=>T(r.target.value)})]}),e.jsxs("div",{className:"flex flex-row justify-end items-center gap-2",children:[e.jsx(p,{onClick:()=>V(),children:"Batal"}),e.jsx(p,{onClick:r=>f?O(r,f):R(r),className:"bg-teal-500",children:"Simpan"})]})]})})]})}),e.jsx($,{show:c,onClose:()=>V(),maxWidth:"md",children:e.jsxs("div",{className:"p-6",children:[e.jsx("p",{className:"font-semibold text-lg",children:"Tambah Aspek Baru"}),e.jsx("div",{className:"mt-3",children:e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("label",{className:"text-sm",children:"Nama Aspek"}),e.jsx("input",{className:"rounded-lg border border-gray-300 w-full",type:"text",placeholder:"Masukkan nama aspek",value:a,onChange:r=>w(r.target.value)})]}),e.jsxs("div",{className:"flex flex-row justify-end items-center gap-2",children:[e.jsx(p,{onClick:()=>V(),children:"Batal"}),e.jsx(p,{onClick:r=>E(r),className:"bg-teal-500",children:"Simpan"})]})]})})]})})]})}function X({differences:b,problem:d}){const[y,i]=n.useState(""),[a,w]=n.useState(""),[l,S]=n.useState(""),[u,D]=n.useState(),A=c=>{c.preventDefault(),N.visit("/difference/store",{method:"post",data:{difference:y,value:a,description:l,problem_id:d.id},preserveState:!0,preserveScroll:!0,onSuccess:j=>{v.success("Berhasil tambah selisih bobot"),x()}})},C=c=>{c.preventDefault(),N.visit(`/difference/update/${u.id}`,{method:"put",data:{difference:y,value:a,description:l,problem_id:d.id},preserveState:!0,preserveScroll:!0,onSuccess:j=>{v.success("Berhasil ubah selisih bobot"),x()}})},h=(c,j)=>{c.preventDefault(),N.visit(`/difference/delete/${j}`,{method:"delete",preserveState:!0,preserveScroll:!0,onSuccess:f=>{v.success("Berhasil hapus selisih bobot"),x()}})},x=()=>{i(""),w(""),S(""),D()};return e.jsxs("div",{className:"flex flex-row gap-2",children:[e.jsx("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg h-fit w-full",children:e.jsxs("div",{className:"p-6 w-full",children:[e.jsx("div",{className:"flex flex-row justify-between items-center mb-5",children:e.jsx("h1",{className:"font-bold text-xl",children:"Total: 5"})}),e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 text-left",children:e.jsxs("tr",{children:[e.jsx("th",{className:"py-3 px-4 w-4 text-sm",children:"No"}),e.jsx("th",{className:"py-3 px-4 text-sm",children:"Selisih"}),e.jsx("th",{className:"py-3 px-4 text-sm",children:"Nilai"}),e.jsx("th",{className:"py-3 px-4 text-sm",children:"Deskripsi"}),e.jsx("th",{className:"py-3 px-4 w-10 text-sm",children:"Aksi"})]})}),e.jsx("tbody",{children:b.length>0?b.map((c,j)=>e.jsxs("tr",{children:[e.jsx("td",{className:"py-3 px-4 border-b-2 border-gray-50 text-sm",children:j+1}),e.jsx("td",{className:"py-3 px-4 border-b-2 border-gray-50 text-sm",children:c.difference}),e.jsx("td",{className:"py-3 px-4 border-b-2 border-gray-50 text-sm",children:c.value}),e.jsx("td",{className:"py-3 px-4 border-b-2 border-gray-50 text-sm",children:c.description}),e.jsx("td",{className:"py-3 px-4 border-b-2 border-gray-50",children:e.jsxs("div",{className:"flex items-center gap-0",children:[e.jsx("i",{className:"bx bx-fw bx-edit text-orange-500",onClick:()=>{D(c),i(c.difference),w(c.value),S(c.description)}}),e.jsx("i",{className:"bx bx-fw bx-trash text-rose-500",onClick:f=>h(f,c.id)})]})})]},c.id)):"Tidak ada selisih bobot"})]})]})}),e.jsxs("div",{className:"bg-white w-1/2 p-6 h-fit",children:[e.jsx("p",{className:"font-semibold text-lg",children:"Tambah Selisih Bobot"}),e.jsx("div",{className:"mt-3",children:e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("label",{className:"text-sm",children:"Selisih"}),e.jsx("input",{className:"rounded-lg border border-gray-300",type:"text",value:y,onChange:c=>i(c.target.value),placeholder:"Contoh: 1 atau -1"})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("label",{className:"text-sm",children:"Nilai"}),e.jsx("input",{className:"rounded-lg border border-gray-300",type:"number",value:a,onChange:c=>w(c.target.value),placeholder:"Contoh: 4.5"})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("label",{className:"text-sm",children:"Deskripsi"}),e.jsx("textarea",{value:l,onChange:c=>S(c.target.value),className:"rounded-lg border border-gray-300",placeholder:"Masukkan deskripsi",cols:"30",rows:"3"})]}),e.jsxs("div",{className:"flex flex-row justify-end items-center gap-2",children:[e.jsx(p,{onClick:()=>x(),children:"Batal"}),e.jsx(p,{className:"bg-teal-500",onClick:c=>u?C(c):A(c),children:"Simpan"})]})]})})]})]})}function Z({participants:b,problem:d}){const y=b.sort((i,a)=>a.final-i.final);return e.jsx("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg h-fit w-full",children:e.jsxs("div",{className:"p-6 w-full",children:[e.jsx("div",{className:"flex flex-row justify-between items-center mb-5",children:e.jsx("h1",{className:"font-bold text-xl",children:"Ranking Peserta"})}),e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 text-left",children:e.jsxs("tr",{children:[e.jsx("th",{className:"py-3 px-4 text-sm",children:"Nama Peserta"}),e.jsx("th",{className:"py-3 px-4 text-sm",children:"Email"}),e.jsx("th",{className:"py-3 px-4 text-sm",children:"Nilai"}),e.jsx("th",{className:"py-3 px-4 text-sm",children:"Ranking"}),e.jsx("th",{className:"py-3 px-4 text-sm",children:"Aksi"})]})}),e.jsx("tbody",{children:y.map((i,a)=>e.jsxs("tr",{children:[e.jsx("td",{className:"py-3 px-4 border-b-2 border-gray-50 text-sm",children:i.user.name}),e.jsx("td",{className:"py-3 px-4 border-b-2 border-gray-50 text-sm",children:i.user.email}),e.jsx("td",{className:"py-3 px-4 border-b-2 border-gray-50 text-sm",children:i.final}),e.jsx("td",{className:"py-3 px-4 border-b-2 border-gray-50 text-sm",children:a+1}),e.jsx("td",{className:"py-3 px-4 border-b-2 border-gray-50 text-sm",children:e.jsxs("div",{className:"flex items-center gap-0",children:[e.jsx(p,{disabled:i.user.qualified==1,className:"bg-teal-500 mx-1",children:e.jsx(I,{href:"/user/update/qualified/"+i.user.id+"/"+i.id,children:e.jsx("p",{className:"font-weight-100",children:"lolos"})})}),e.jsx(p,{disabled:i.user.qualified==2,className:"bg-red-500 mx-1",children:e.jsx(I,{href:"/user/update/no_qualified/"+i.user.id+"/"+i.id,children:e.jsx("p",{className:"font-weight-100",children:"Tidak Lolos"})})})]})})]},a))})]})]})})}function ee({participants:b,problem:d}){const y=b.sort((i,a)=>a.final_qualified-i.final_qualified);return e.jsx("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg h-fit w-full",children:e.jsxs("div",{className:"p-6 w-full",children:[e.jsx("div",{className:"flex flex-row justify-between items-center mb-5",children:e.jsx("h1",{className:"font-bold text-xl",children:"Ranking Peserta Final"})}),e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 text-left",children:e.jsxs("tr",{children:[e.jsx("th",{className:"py-3 px-4 text-sm",children:"Nama Peserta"}),e.jsx("th",{className:"py-3 px-4 text-sm",children:"Email"}),e.jsx("th",{className:"py-3 px-4 text-sm",children:"Nilai"}),e.jsx("th",{className:"py-3 px-4 text-sm",children:"Ranking"}),e.jsx("th",{className:"py-3 px-4 text-sm",children:"Aksi"})]})}),e.jsx("tbody",{children:y.map((i,a)=>e.jsxs("tr",{children:[e.jsx("td",{className:"py-3 px-4 border-b-2 border-gray-50 text-sm",children:i.user.name}),e.jsx("td",{className:"py-3 px-4 border-b-2 border-gray-50 text-sm",children:i.user.email}),e.jsx("td",{className:"py-3 px-4 border-b-2 border-gray-50 text-sm",children:i.final_qualified}),e.jsx("td",{className:"py-3 px-4 border-b-2 border-gray-50 text-sm",children:a+1}),e.jsx("td",{className:"py-3 px-4 border-b-2 border-gray-50 text-sm",children:e.jsxs("div",{className:"flex items-center gap-0",children:[e.jsx(p,{disabled:i.qualified_status==3,className:"bg-teal-500 mx-1",children:e.jsx(I,{href:"/user/update/qualified_final/"+i.user.id+"/"+i.id,children:e.jsx("p",{className:"font-weight-100",children:"lolos"})})}),e.jsx(p,{disabled:i.qualified_status==4,className:"bg-red-500 mx-1",children:e.jsx(I,{href:"/user/update/no_qualified_final/"+i.user.id+"/"+i.id,children:e.jsx("p",{className:"font-weight-100",children:"Tidak Lolos"})})})]})})]},a))})]})]})})}function se({participants:b,problem:d}){var q,F,T;const[y,i]=n.useState(!1),[a,w]=n.useState(!1),[l,S]=n.useState(null),[u,D]=n.useState(null),A=()=>{w(!1),S(null)},C=()=>{i(!1),S(null),D(null),B({}),o({})},h=t=>{N.visit(route("pm.store.participant.criterias"),{method:"post",data:{data:t},preserveState:!0,preserveScroll:!0,onSuccess:g=>{v.success("Berhasil tambah nilai"),C()}})},x=t=>{N.visit(route("pm.update.participant.criteria"),{method:"put",data:{data:t},preserveState:!0,preserveScroll:!0,onSuccess:g=>{v.success("Berhasil ubah nilai"),C()}})},c=t=>{t.preventDefault(),N.visit(route("pm.start"),{method:"get",data:{problem_id:d.id},preserveState:!0,preserveScroll:!0,onSuccess:g=>{v.success("Berhasil melakukan analisis!"),C()}})},j=(t,g)=>{t.preventDefault(),N.visit(`/user/delete/${g}`,{method:"delete",preserveState:!0,preserveScroll:!0,onSuccess:E=>{v.success("Sukses menghapus!")}})},[f,B]=n.useState({}),[s,o]=n.useState({});n.useEffect(()=>{if(u&&(l!=null&&l.participant_criterias)){const t={};l.participant_criterias.forEach(g=>{t[g.criteria_id]={id:g.id,value:g.value,note:g.note,criteria_id:g.criteria_id,participant_id:g.participant_id}}),o(t)}},[u,l==null?void 0:l.participant_criterias]);const _=d.aspects.flatMap(t=>t.criterias).slice(0,5);return e.jsxs("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg h-fit w-full",children:[e.jsxs("div",{className:"p-6 w-full",children:[e.jsxs("div",{className:"flex flex-row justify-between items-center mb-5",children:[e.jsxs("h1",{className:"font-bold text-xl",children:["Total: ",b.length]}),e.jsx(p,{onClick:t=>c(t),children:"Analisis"})]}),e.jsxs("table",{className:"w-full text-center",children:[e.jsx("thead",{className:"bg-gray-100 ",children:e.jsxs("tr",{children:[e.jsx("th",{className:"py-3 px-4 w-4 text-sm",children:"No"}),e.jsx("th",{className:"py-3 px-4 text-sm",children:"Nama Peserta"}),e.jsx("th",{className:"py-3 px-4 text-sm",children:"Email"}),e.jsx("th",{className:"py-3 px-4 text-sm",children:"Berkas"}),e.jsx("th",{className:"py-3 px-4 text-sm",children:"Status"}),e.jsx("th",{className:"py-3 px-4 w-10 text-sm",children:"Aksi"})]})}),e.jsx("tbody",{children:b.length>0?b.map((t,g)=>e.jsxs("tr",{children:[e.jsx("td",{className:"py-3 px-4 border-b-2 border-gray-50 text-sm",children:g+1}),e.jsx("td",{className:"py-3 px-4 border-b-2 border-gray-50 text-sm",children:t.user.name}),e.jsx("td",{className:"py-3 px-4 border-b-2 border-gray-50 text-sm",children:t.user.email}),e.jsxs("td",{className:"py-3 px-4 border-b-2 border-gray-50 text-sm flex gap-1",children:[t.user.cv!=null?e.jsx("div",{children:e.jsx(p,{className:"bg-teal-500",children:e.jsx("a",{target:"_blank",href:"/user/get/document/cv/"+t.user.id,children:"CV"})})}):e.jsx("div",{children:e.jsx(p,{className:"bg-teal-500",disabled:!0,children:"CV"})}),t.user.ijazah!=null?e.jsx("div",{children:e.jsx(p,{className:"bg-teal-500",children:e.jsx("a",{target:"_blank",href:"/user/get/document/ijazah/"+t.user.id,children:"Ijazah"})})}):e.jsx("div",{children:e.jsx(p,{className:"bg-teal-500",disabled:!0,children:"Ijazah"})}),t.user.portofolio!=null?e.jsx("div",{children:e.jsx(p,{className:"bg-teal-500",children:e.jsx("a",{target:"_blank",href:"/user/get/document/portofolio/"+t.user.id,children:"Portofolio"})})}):e.jsx("div",{children:e.jsx(p,{className:"bg-teal-500",disabled:!0,children:"Portofolio"})})]}),e.jsx("td",{className:"py-3 px-4 border-b-2 border-gray-50 text-sm",children:t.participant_criterias.length>0&&e.jsx("i",{className:"bx bx-fw bx-check-circle text-emerald-500"})}),e.jsx("td",{className:"py-3 px-4 border-b-2 border-gray-50 w-80",children:e.jsxs("div",{className:"flex items-center gap-2 w-full",children:[e.jsx("button",{className:"bg-yellow-500 py-2 px-3 rounded text-sm w-fit text-white",onClick:()=>{w(!0),S(t)},children:"Detail"}),t.participant_criterias.length>0?e.jsx("button",{className:"bg-slate-500 py-2 px-3 rounded text-sm w-fit text-white",onClick:()=>{S(t),i(!0),D(!0)},children:"Edit Nilai"}):e.jsx("button",{className:"bg-blue-500 py-2 px-3 rounded text-sm w-fit text-white",onClick:()=>{S(t),i(!0)},children:"Beri Nilai"}),e.jsx("button",{className:"bg-rose-500 py-2 px-3 rounded text-sm w-fit text-white",onClick:E=>j(E,t.user.id),children:"Hapus"})]})})]},t.id)):"Tidak ada peserta"})]})]}),e.jsx($,{show:a,onClose:()=>A(),children:e.jsx("div",{className:"p-12",children:e.jsxs("div",{style:{maxHeight:"46rem",overflowY:"auto"},children:[e.jsxs("p",{className:"text-xl font-bold",children:["Detail - ",l==null?void 0:l.user.name]}),e.jsx("p",{children:e.jsx("strong",{children:"Full Name:"})}),e.jsx("p",{children:l==null?void 0:l.user.fullname}),e.jsx("p",{children:e.jsx("strong",{children:"Email:"})}),e.jsx("p",{children:l==null?void 0:l.user.email}),e.jsx("p",{children:e.jsx("strong",{children:"Address:"})}),e.jsx("p",{children:l==null?void 0:l.user.address}),e.jsx("p",{children:e.jsx("strong",{children:"WhatsApp:"})}),e.jsx("p",{children:l==null?void 0:l.user.whatsapp}),((q=l==null?void 0:l.user)==null?void 0:q.cv)&&e.jsxs(e.Fragment,{children:[e.jsx("p",{children:e.jsx("strong",{children:"CV:"})}),e.jsx("p",{children:e.jsx("a",{href:`/user/get/document/cv/${l.user.id}`,target:"_blank",rel:"noopener noreferrer",children:"View CV"})})]}),((F=l==null?void 0:l.user)==null?void 0:F.ijazah)&&e.jsxs(e.Fragment,{children:[e.jsx("p",{children:e.jsx("strong",{children:"Ijazah:"})}),e.jsx("p",{children:e.jsx("a",{href:`/user/get/document/ijazah/${l.user.id}`,target:"_blank",rel:"noopener noreferrer",children:"View Ijazah"})})]}),((T=l==null?void 0:l.user)==null?void 0:T.portofolio)&&e.jsxs(e.Fragment,{children:[e.jsx("p",{children:e.jsx("strong",{children:"Portofolio:"})}),e.jsx("p",{children:e.jsx("a",{href:`/user/get/document/portofolio/${l.user.id}`,target:"_blank",rel:"noopener noreferrer",children:"View Portofolio"})})]})]})})}),e.jsx($,{show:y,onClose:()=>C(),children:e.jsxs("div",{className:"p-12 overflow-y-auto",style:{maxHeight:"46rem"},children:[e.jsxs("p",{className:"text-xl font-bold",children:["Penilaian - ",l==null?void 0:l.user.name]}),_==null?void 0:_.map((t,g)=>{const E=u?s[t.id]||{value:"",note:""}:f[t.id]||{value:"",note:""};return e.jsxs("div",{className:"bg-slate-100 my-5 p-5 rounded-lg",children:[e.jsx("input",{type:"hidden",value:t.id}),e.jsxs("p",{className:"mb-3 font-semibold",children:[t.criteria," (",t.code,")"]}),e.jsxs("div",{className:"flex flex-row items-center gap-2",children:[e.jsxs("select",{className:"rounded-lg border border-gray-300",value:E.value,onChange:M=>u?o({...s,[t.id]:{...s[t.id],value:M.target.value}}):B({...f,[t.id]:{...f[t.id],value:M.target.value,criteria_id:t.id,participant_id:l==null?void 0:l.id}}),children:[e.jsx("option",{value:0,children:"-- Choose --"}),e.jsx("option",{value:5,children:"Sangat Baik - 5"}),e.jsx("option",{value:4,children:"Baik - 4"}),e.jsx("option",{value:3,children:"Cukup - 3"}),e.jsx("option",{value:2,children:"Kurang - 2"}),e.jsx("option",{value:1,children:"Sangat Kurang - 1"})]}),e.jsx("input",{type:"text",className:"rounded-lg border border-gray-300",value:E.note,onChange:M=>u?o({...s,[t.id]:{...s[t.id],note:M.target.value}}):B({...f,[t.id]:{...f[t.id],note:M.target.value,criteria_id:t.id,participant_id:l==null?void 0:l.id}}),placeholder:"Catatan"})]})]},g)}),e.jsxs("div",{className:"flex flex-row items-center gap-3 mt-5",children:[e.jsxs("button",{className:"bg-slate-300 py-2 px-3 rounded",onClick:()=>C(),children:[e.jsx("i",{className:"bx bx-fw bx-x"})," Batal"]}),e.jsxs("button",{className:"bg-teal-500 py-2 px-3 text-white rounded",onClick:()=>u?x(s):h(f),children:[e.jsx("i",{className:"bx bx-fw bx-save"})," Submit"]})]})]})})]})}function le({participants:b,problem:d}){const[y,i]=n.useState(!1),[a,w]=n.useState(null),[l,S]=n.useState(null),u=()=>{i(!1),w(null),S(null),c({}),f({})},D=s=>{console.log("[INSERTSub]",s),N.visit(route("pm.store.participant.criterias"),{method:"post",data:{data:s},preserveState:!0,preserveScroll:!0,onSuccess:o=>{v.success("Berhasil tambah nilai"),u()}})},A=s=>{d.aspects.flatMap(o=>o.criterias);for(let o=1;o<s.length;o++)console.log("[EDITSubREV]",o);N.visit(route("pm.update.participant.criteria"),{method:"put",data:{data:s},preserveState:!0,preserveScroll:!0,onSuccess:o=>{v.success("Berhasil ubah nilai"),u()}})},C=s=>{s.preventDefault(),N.visit(route("pm.start"),{method:"get",data:{problem_id:d.id,qualified_step:1},preserveState:!0,preserveScroll:!0,onSuccess:o=>{v.success("Berhasil melakukan analisis qualified!"),u()}})},h=(s,o)=>{s.preventDefault(),N.visit(`/user/delete/${o}`,{method:"delete",preserveState:!0,preserveScroll:!0,onSuccess:_=>{v.success("Sukses menghapus!")}})},[x,c]=n.useState({}),[j,f]=n.useState({});n.useEffect(()=>{if(d.aspects.flatMap(s=>s.criterias),l&&(a!=null&&a.participant_criterias)){const s={};a.participant_criterias.forEach((o,_)=>{s[o.criteria_id]={id:o.id,value:o.value,note:o.note,criteria_id:o.criteria_id,participant_id:o.participant_id}}),f(s),console.log("[INPUTS]",s)}},[l,a==null?void 0:a.participant_criterias]);const B=d.aspects.flatMap(s=>s.criterias).slice(5);return e.jsxs("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg h-fit w-full",children:[e.jsxs("div",{className:"p-6 w-full",children:[e.jsxs("div",{className:"flex flex-row justify-between items-center mb-5",children:[e.jsxs("h1",{className:"font-bold text-xl",children:["Total: ",b.length]}),e.jsx(p,{onClick:s=>C(s),children:"Analisis"})]}),e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 text-left",children:e.jsxs("tr",{children:[e.jsx("th",{className:"py-3 px-4 w-4 text-sm",children:"No"}),e.jsx("th",{className:"py-3 px-4 text-sm",children:"Nama Peserta"}),e.jsx("th",{className:"py-3 px-4 text-sm",children:"Email"}),e.jsx("th",{className:"py-3 px-4 text-sm",children:"CV"}),e.jsx("th",{className:"py-3 px-4 text-sm",children:"Status"}),e.jsx("th",{className:"py-3 px-4 w-10 text-sm",children:"Aksi"})]})}),e.jsx("tbody",{children:b.length>0?b.map((s,o)=>e.jsxs("tr",{children:[e.jsx("td",{className:"py-3 px-4 border-b-2 border-gray-50 text-sm",children:o+1}),e.jsx("td",{className:"py-3 px-4 border-b-2 border-gray-50 text-sm",children:s.user.name}),e.jsx("td",{className:"py-3 px-4 border-b-2 border-gray-50 text-sm",children:s.user.email}),e.jsx("td",{className:"py-3 px-4 border-b-2 border-gray-50 text-sm",children:s.user.cv!=null?e.jsx("div",{children:e.jsx(p,{className:"bg-teal-500",children:e.jsx("a",{target:"_blank",href:"/user/get/document/"+s.user.id,children:"CV Tersedia"})})}):"None"}),e.jsx("td",{className:"py-3 px-4 border-b-2 border-gray-50 text-sm",children:s.participant_criterias.length>5&&e.jsx("i",{className:"bx bx-fw bx-check-circle text-emerald-500"})}),e.jsx("td",{className:"py-3 px-4 border-b-2 border-gray-50 w-52",children:e.jsxs("div",{className:"flex items-center gap-2 w-full",children:[s.participant_criterias.length>0?e.jsx("button",{className:"bg-slate-500 py-2 px-3 rounded text-sm w-fit text-white",onClick:()=>{w(s),i(!0),S(!0)},children:"Edit Nilai"}):e.jsx("button",{className:"bg-blue-500 py-2 px-3 rounded text-sm w-fit text-white",onClick:()=>{w(s),i(!0)},children:"Beri Nilai"}),e.jsx("button",{className:"bg-rose-500 py-2 px-3 rounded text-sm w-fit text-white",onClick:_=>h(_,s.user.id),children:"Hapus"})]})})]},s.id)):"Tidak ada peserta"})]})]}),e.jsx($,{show:y,onClose:()=>u(),children:e.jsxs("div",{className:"p-12 overflow-y-auto",style:{maxHeight:"46rem"},children:[e.jsxs("p",{className:"text-xl font-bold",children:["Penilaian - ",a==null?void 0:a.user.name]}),B==null?void 0:B.map((s,o)=>{const _=l?j[s.id]||{value:"",note:""}:x[s.id]||{value:"",note:""};return e.jsxs("div",{className:"bg-slate-100 my-5 p-5 rounded-lg",children:[e.jsx("input",{type:"hidden",value:s.id}),e.jsxs("p",{className:"mb-3 font-semibold",children:[s.criteria," (",s.code,")"]}),e.jsxs("div",{className:"flex flex-row items-center gap-2",children:[e.jsxs("select",{className:"rounded-lg border border-gray-300",value:_.value,onChange:q=>l?f({...j,[s.id]:{...j[s.id],value:q.target.value,criteria_idx:s.id}}):c({...x,[s.id]:{...x[s.id],value:q.target.value,criteria_id:s.id,participant_id:a==null?void 0:a.id}}),children:[e.jsx("option",{value:0,children:"-- Choose --"}),e.jsx("option",{value:5,children:"Sangat Baik - 5"}),e.jsx("option",{value:4,children:"Baik - 4"}),e.jsx("option",{value:3,children:"Cukup - 3"}),e.jsx("option",{value:2,children:"Kurang - 2"}),e.jsx("option",{value:1,children:"Sangat Kurang - 1"})]}),e.jsx("input",{type:"text",className:"rounded-lg border border-gray-300",value:_.note,onChange:q=>l?f({...j,[s.id]:{...j[s.id],note:q.target.value,criteria_idx:s.id,participant_idx:a==null?void 0:a.id}}):c({...x,[s.id]:{...x[s.id],note:q.target.value,criteria_id:s.id,participant_id:a==null?void 0:a.id}}),placeholder:"Catatan"})]})]},o)}),e.jsxs("div",{className:"flex flex-row items-center gap-3 mt-5",children:[e.jsxs("button",{className:"bg-slate-300 py-2 px-3 rounded",onClick:()=>u(),children:[e.jsx("i",{className:"bx bx-fw bx-x"})," Batal"]}),e.jsxs("button",{className:"bg-teal-500 py-2 px-3 text-white rounded",onClick:()=>l?A(j):D(x),children:[e.jsx("i",{className:"bx bx-fw bx-save"})," Submit"]})]})]})})]})}function oe({auth:b}){const d=P().props,[y,i]=n.useState(d.problem.title),[a,w]=n.useState(d.problem.description),[l,S]=n.useState(d.problem.status),[u,D]=n.useState(d.problem.core_factor),[A,C]=n.useState(d.problem.secondary_factor),[h,x]=n.useState("edit");console.log("[INFO]",d.problem_qualified);const c=d.problem.participants.filter(s=>s.final==null),j=d.problem_qualified.participants.filter(s=>s.qualified_status=="1"||s.qualified_status=="3"),f=d.problem_qualified.participants.filter(s=>s.final_qualified!=null),B=s=>{s.preventDefault(),N.visit(`/problem/update/${d.problem.id}`,{method:"put",data:{title:y,description:a,status:l,created_by:b.user.name,core_factor:u,secondary_factor:A},preserveState:!0,preserveScroll:!0,onSuccess:o=>{v.success("Berhasil ubah pekerjaan"),setTimeout(()=>{window.location.href=route("problem.index")},1e3)}})};return e.jsxs(Y,{user:b.user,header:e.jsx("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:"Detail Pekerjaan"}),children:[e.jsx(J,{title:"Detail Data"}),e.jsx(U,{position:"top-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"colored","transition:Bounce":!0}),e.jsx("div",{className:"py-12",children:e.jsxs("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"flex flex-row items-center gap-2 mb-4",children:[e.jsx("button",{onClick:()=>x("edit"),className:`${h==="edit"?"bg-teal-500 text-white":"bg-transparent text-teal-500 border border-teal-500"} py-2 px-4 rounded`,children:"Edit"}),e.jsx("button",{onClick:()=>x("aspect"),className:`${h==="aspect"?"bg-teal-500 text-white":"bg-transparent text-teal-500 border border-teal-500"} py-2 px-4 rounded`,children:"Aspek Nilai"}),e.jsx("button",{onClick:()=>x("selisih"),className:`${h==="selisih"?"bg-teal-500 text-white":"bg-transparent text-teal-500 border border-teal-500"} py-2 px-4 rounded`,children:"Selisih Bobot"}),e.jsx("div",{children:"|"}),e.jsx("button",{onClick:()=>x("participant"),className:`${h==="participant"?"bg-teal-500 text-white":"bg-transparent text-teal-500 border border-teal-500"} py-2 px-4 rounded`,children:"Seleksi Berkas"}),c.length===0&&e.jsx("button",{onClick:()=>x("result"),className:`${h==="result"?"bg-teal-500 text-white":"bg-transparent text-teal-500 border border-teal-500"} py-2 px-4 rounded`,children:"Hasil Seleksi Berkas"}),e.jsx("div",{children:"|"}),j.length>0&&e.jsx("button",{onClick:()=>x("participant_qualified"),className:`${h==="participant_qualified"?"bg-teal-500 text-white":"bg-transparent text-teal-500 border border-teal-500"} py-2 px-4 rounded`,children:"Seleksi Interview"}),f.length>0&&e.jsx("button",{onClick:()=>x("result_qualified"),className:`${h==="result_qualified"?"bg-teal-500 text-white":"bg-transparent text-teal-500 border border-teal-500"} py-2 px-4 rounded`,children:"Hasil Seleksi Interview"})]}),h==="edit"&&e.jsx("div",{className:" bg-white overflow-hidden shadow-sm sm:rounded-lg h-fit",children:e.jsxs("div",{className:"p-6 w-full",children:[e.jsx("p",{className:"text-xl font-bold mb-3",children:"Edit Data"}),e.jsx("hr",{}),e.jsx("div",{className:"w-1/2 mt-3",children:e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("label",{className:"text-sm",children:"Judul"}),e.jsx("input",{className:"rounded-lg border border-gray-300",type:"text",placeholder:"Masukkan judul pekerjaan",value:y,onChange:s=>i(s.target.value)})]})}),e.jsx("div",{className:"w-1/2 mt-3",children:e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("label",{className:"text-sm",children:"Deskripsi"}),e.jsx("textarea",{className:"rounded-lg border border-gray-300",placeholder:"Masukkan deskripsi",cols:"30",rows:"10",value:a,onChange:s=>w(s.target.value)})]})}),e.jsx("div",{className:"w-1/2 mt-3",children:e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("label",{className:"text-sm",children:"Status"}),e.jsxs("select",{onChange:s=>S(s.target.value),value:l,className:"rounded-lg border border-gray-300",children:[e.jsx("option",{value:0,disabled:!0,children:"Pilih status"}),e.jsx("option",{value:"open",children:"Buka"}),e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"done",children:"Selesai"})]})]})}),e.jsx("div",{className:"w-1/2 mt-3",children:e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("label",{className:"text-sm",children:"Core Factor (%)"}),e.jsx("input",{className:"rounded-lg border border-gray-300",type:"number",placeholder:"Misal: 60",value:u,onChange:s=>D(s.target.value)})]})}),e.jsx("div",{className:"w-1/2 mt-3",children:e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("label",{className:"text-sm",children:"Secondary Factor (%)"}),e.jsx("input",{className:"rounded-lg border border-gray-300",type:"number",placeholder:"Misal: 40",value:A,onChange:s=>C(s.target.value)})]})}),e.jsxs("div",{className:"flex flex-row mt-5 gap-2",children:[e.jsx("button",{className:"bg-slate-200 px-4 py-2 rounded-lg",children:e.jsx(I,{href:route("problem.index"),className:"text-sm",children:"Batal"})}),e.jsx("button",{onClick:s=>B(s),className:"bg-teal-500 px-4 py-2 rounded-lg",children:e.jsx("p",{className:"text-white text-sm",children:"Simpan"})})]})]})}),h==="aspect"&&e.jsx(G,{aspects:d.problem.aspects,problem:d.problem}),h==="selisih"&&e.jsx(X,{differences:d.problem.differences,problem:d.problem}),h==="participant"&&e.jsx(se,{participants:d.problem.participants,problem:d.problem}),h==="result"&&e.jsx(Z,{participants:d.problem.participants,problem:d.problem}),h==="participant_qualified"&&e.jsx(le,{participants:d.problem_qualified.participants.filter(s=>s.qualified_status==1||s.qualified_status==3),problem:d.problem}),h==="result_qualified"&&e.jsx(ee,{participants:d.problem_qualified.participants.filter(s=>s.qualified_status==1||s.qualified_status==3&&s.qualified_status!=null),problem:d.problem})]})})]})}export{oe as default};
